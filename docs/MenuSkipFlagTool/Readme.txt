=============================================================================
 TWLメニュースキップフラグ立てツール
=============================================================================

* 目次

  * `TWLメニュースキップフラグ立てツールとは?`_
  * `対応タイトル`_
  * `動作`_
  * `実行方法`_
  * `プログラムの返り値`_
  * `オプション`_
  * `変更履歴`_

TWLメニュースキップフラグ立てツールとは?
=============================================================================

TWL試遊台タイトルでは、
「健康と安全について」の画面およびDSiメニューをスキップする必要があります。

本ツールは、入力されたROMに対して、
上記の画面およびメニューをスキップするためのフラグを立て、
別ファイルに出力します。


対応タイトル
=============================================================================

* TWLタイトル

  * SRL形式のみに対応しています。TAD形式には対応していませんので、ご注意ください。

* NITROタイトル


動作
=============================================================================

概要
---------------------

* 入力

  * SRLファイル (TWL-ROM/NITRO-ROM両対応)
  * "1" もしくは "0" (フラグを立てる場合 "1"、立てない場合 "0")

* 出力

  * SRLファイル (入力ファイルとは別のファイル名)

* 処理

  * "1" が入力されたとき、フラグを立てたROMファイルを出力する。
  * "0" が入力されたとき、データを加工しない。(つまり、入力ROMファイルを出力ROMファイルにコピーだけ。)


フローチャート
---------------------

.. image:: tool_flowchart.gif


実行方法
=============================================================================

WindowsXP付属のコマンドプロンプト、もしくはcygwinから実行してください。

  * MenuSkipFlagTool.exe  (入力SRLファイル名)  (出力SRLファイル名)  (1もしくは0)

ここで、1を指定した場合、フラグを立てる処理をします。
0を指定した場合には、何もデータを加工せずに、入力SRLファイルを
出力SRLファイルにコピーするだけの処理をします。

プログラムの途中で、エラーがあった場合、処理を中断します。
このとき、作成途中であった、出力SRLファイルは削除されます。


プログラムの返り値
=============================================================================

コマンドラインからプログラムを実行したとき、
プログラムの終了後、以下の返り値が設定されます。

  * 正常終了の場合 : 0 が設定されます。

  * エラーが発生した場合 : -1 が設定されます。

返り値は、Windowsコマンドプロンプトの場合、%ERRORLEVEL%環境変数に格納されますので、
バッチファイルなどの分岐に利用することができます。

また、cygwinのシェルを使用した場合には、返り値の格納先は、
%ERRORLEVEL%環境変数ではなく、シェル変数 $? となります。
ただし、cygwinシェルの場合、返り値 -1 は 255 となります。


オプション
=============================================================================

コンソール画面上での操作の場合、オプションによって出力を変えることができます。
スクリプトなどに組み込む場合にご利用ください。

(1) -f オプション

通常、出力ファイルがすでに存在する場合、上書き確認を行いますが、-fオプションを指定した場合、
上書き確認をせずに、強制的に上書きします。


(2) -h オプション

使用方法を表示して終了します。



変更履歴
=============================================================================

* ver.1.0 (2009/06/19)

  初版

